import{j as r}from"./jsx-runtime-QvZ8i92b.js";import{r as c}from"./index-uubelm5h.js";import{C as D}from"./SearchIcon-3OcPq2d7.js";import{u as W,c as B,a as L,b as O,P as j,d as E,e as H}from"./index-DDbYGXDy.js";import{c as y}from"./clsx-B-dksMZM.js";import{T as g}from"./typography-BEbh9huK.js";function T(e){const o=c.useRef({value:e,previous:e});return c.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}function K(e){const[o,t]=c.useState(void 0);return W(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let u,i;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;u=p.inlineSize,i=p.blockSize}else u=e.offsetWidth,i=e.offsetHeight;t({width:u,height:i})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),o}var z="Checkbox",[q,fe]=B(z),[F,X]=q(z),S=c.forwardRef((e,o)=>{const{__scopeCheckbox:t,name:a,checked:n,defaultChecked:s,required:u,disabled:i,value:d="on",onCheckedChange:p,...h}=e,[f,v]=c.useState(null),M=L(o,l=>v(l)),k=c.useRef(!1),w=f?!!f.closest("form"):!0,[m=!1,_]=O({prop:n,defaultProp:s,onChange:p}),A=c.useRef(m);return c.useEffect(()=>{const l=f==null?void 0:f.form;if(l){const C=()=>_(A.current);return l.addEventListener("reset",C),()=>l.removeEventListener("reset",C)}},[f,_]),r.jsxs(F,{scope:t,state:m,disabled:i,children:[r.jsx(j.button,{type:"button",role:"checkbox","aria-checked":x(m)?"mixed":m,"aria-required":u,"data-state":N(m),"data-disabled":i?"":void 0,disabled:i,value:d,...h,ref:M,onKeyDown:E(e.onKeyDown,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:E(e.onClick,l=>{_(C=>x(C)?!0:!C),w&&(k.current=l.isPropagationStopped(),k.current||l.stopPropagation())})}),w&&r.jsx($,{control:f,bubbles:!k.current,name:a,value:d,checked:m,required:u,disabled:i,style:{transform:"translateX(-100%)"}})]})});S.displayName=z;var R="CheckboxIndicator",P=c.forwardRef((e,o)=>{const{__scopeCheckbox:t,forceMount:a,...n}=e,s=X(R,t);return r.jsx(H,{present:a||x(s.state)||s.state===!0,children:r.jsx(j.span,{"data-state":N(s.state),"data-disabled":s.disabled?"":void 0,...n,ref:o,style:{pointerEvents:"none",...e.style}})})});P.displayName=R;var $=e=>{const{control:o,checked:t,bubbles:a=!0,...n}=e,s=c.useRef(null),u=T(t),i=K(o);return c.useEffect(()=>{const d=s.current,p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&f){const v=new Event("click",{bubbles:a});d.indeterminate=x(t),f.call(d,x(t)?!1:t),d.dispatchEvent(v)}},[u,t,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:x(t)?!1:t,...n,tabIndex:-1,ref:s,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(e){return e==="indeterminate"}function N(e){return x(e)?"indeterminate":e?"checked":"unchecked"}var G=S,J=P,Q="Label",I=c.forwardRef((e,o)=>r.jsx(j.label,{...e,ref:o,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));I.displayName=Q;var U=I;const V="_container_gz7fu_1",Y="_label_gz7fu_6",Z="_disabled_gz7fu_11",ee="_root_gz7fu_15",te="_buttonWrapper_gz7fu_47",re="_left_gz7fu_70",oe="_indicator_gz7fu_74",ne="_wrap_gz7fu_79",b={container:V,label:Y,disabled:Z,root:ee,buttonWrapper:te,left:re,indicator:oe,wrap:ne},se=c.forwardRef(({checked:e,className:o,disabled:t,errorMessage:a,id:n,label:s,onChange:u,position:i,required:d},p)=>{const h={buttonWrapper:y(b.buttonWrapper,t&&b.disabled,i==="left"&&b.left),container:y(b.container,o),indicator:b.indicator,label:y(b.label,t&&b.disabled),root:b.root};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:h.container,children:r.jsx(U,{asChild:!0,children:r.jsxs(g,{as:"label",className:b.wrap,variant:"body2",children:[r.jsx("div",{className:h.buttonWrapper,children:r.jsx(G,{checked:e,className:h.root,disabled:t,id:n,onCheckedChange:u,ref:p,required:d,children:e&&r.jsx(J,{className:h.indicator,forceMount:!0,children:r.jsx(D,{disabled:t||!1})})})}),r.jsx(g,{color:"secondary",variant:"body1",children:s})]})})}),a&&r.jsx(g,{className:b.errorMessage,variant:"error",children:a})]})});se.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};export{se as C};
